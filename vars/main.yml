---
# Domains
domain: "domain.tld"
domain_email: "domain.email"

# Permissions
global_owner: "root"
global_group: "root"

# Certificates
tls_cert: ""
tls_key_cert: ""
tls_chain_cert: ""
tls_ca_cert: "/etc/ssl/certs/ca-certificates.crt"
tls_ca_cert_dir: "/etc/ssl/certs"

# Postfix/Postgrey
postfix_conf_dir: "/etc/postfix"
postfix_ssl_dir: "/etc/postfix/ssl"
postfix_ssl_cert: "{{ tls_cert }}"
postfix_ssl_key: "{{ tls_key_cert }}"
postfix_ssl_chain: "{{ tls_chain_cert }}"
postfix_config_file: "{{ postfix_conf_dir }}/main.cf"
postfix_master_file: "{{ postfix_conf_dir }}/master.cf"
header_checks_config: "{{ postfix_conf_dir }}/header_checks"
sender_access_config: "{{ postfix_conf_dir }}/sender_access"
smtp_header_checks_config: "{{ postfix_conf_dir }}/smtp_header_checks"
postscreen_access_list: "{{ postfix_conf_dir }}/postscreen_access.cidr"
postfix_inet_interfaces: "all"
postfix_message_size_limit: "20480000"
postfix_virtual_mailbox_base: "/home/vmail/"
postgrey_whitelist_clients: "{{ postfix_conf_dir }}/postgrey_whitelist_clients.local"
postgrey_whitelist_recipients: "{{ postfix_conf_dir }}/postgrey_whitelist_recipients.local"

# LDAP
postfix_ldap_dir: "{{ postfix_conf_dir }}/ldap"
ldap_vmailbox: "ldap-vmailbox.cf"
ldap_aliases: "ldap-aliases.cf"
ldap_domains: "ldap-virtual-domains.cf"
ldap_forward: "ldap-forward.cf"
ldap_groups: "ldap-groups.cf"
ldap_server_provider: "ldaphost1"
ldap_server_consumer1: "ldaphost2"
ldap_server_consumer2: "ldaphost3"
ldap_mail_search_base: "ou=Mail,dc=domain,dc=tld"
ldap_mail_groups_search_base: "ou=Groups,ou=Mail,dc=domain,dc=tld"
ldap_mail_domains_search_base: "ou=Domains,dc=domain,dc=tld"
ldap_bind: "no"
starttls: "yes"
requiretls: "yes"

# OpenDMARC
opendmarc_dir: "/etc/opendmarc"
authserverid: "{{ inventory_hostname }}"
opendmarcsock: "unix:/run/opendmarc/opendmarc.sock"

# SpamAssassin
spamd_bin: "/usr/bin/vendor_perl"
spamd_dir: "/etc/mail/spamassassin"
spamassassin_enable_rbl: True
spamassassin_enable_razor: True
spamassassin_enable_pyzor: True
spamassassin_pyzor_timeout: "20"
spamassassin_rewrite_header: "*****SPAM*****"
spamassassin_report_contact: "postmaster@domain.email"
spamassassin_required_score: "5.0"
spamassassin_report_safe: "1"
spamassassin_use_bayes: "1"
spamassassin_bayes_auto_learn: "1"
spamassassin_bayes_sql_username: "sa_user"
spamassassin_bayes_sql_password:

  create with ->  ansible-vault encrypt_string 'secretpw' --name 'spamassassin_bayes_sql_password:'

# manual white/blacklists: /etc/mail/spamassassin/{whitelist,blacklist}.cf
spamassassin_whitelist: []
spamassassin_blacklist: []

# Dovecot
dovecot_dir: "/etc/dovecot"
dovecot_default_fields_home: "/home/vmail"
dovecot_mcrypt_dir: "/etc/dovecot/mcrypt"
dovecot_ssl_dir: "/etc/dovecot/ssl"
dovecot_conf_dir: "/etc/dovecot/conf.d"
dovecot_trash: "dovecot-trash.conf.ext"
dovecot_ldap_conf: "dovecot-ldap.conf.ext"
dovecot_ldap_master: "dovecot-ldap-masteruser.conf.ext"
dovecot_ldap_symlink: "dovecot-ldap-userdb.conf.ext"
dovecot_ldap_tls: "yes"
dovecot_submission_host: "mail.{{ domain }}"
doveadm_password:

  create with ->  ansible-vault encrypt_string 'secretpw' --name 'doveadm_password'

# Solr Full Text Search Indexing
solrhome: "/opt/solr"

# SASL
sasldest: "/etc/saslauthd.conf"
sasldest2: "/etc/conf.d/saslauthd"
sasldest3: "/usr/lib/sasl2/smtpd.conf"
